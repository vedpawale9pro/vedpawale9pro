<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>WebSocket Notes Board</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    #log { border: 1px solid #ccc; height: 300px; overflow-y: auto; padding: 10px; margin-bottom: 10px; background: #f9f9f9; }
    #message { width: 80%; padding: 10px; }
    #send { padding: 10px; }
  </style>
</head>
<body>
  <h1>📝 WebSocket Notes Board</h1>

  <p>
    Server: <input id="server" value="ws://147.185.221.30:46414" size="40">
    <button onclick="connect()">Connect</button>
  </p>

  <div id="log"></div>

  <input type="text" id="message" placeholder="Write a note..." />
  <button id="send" onclick="sendMessage()">Send</button>

  <script>
    let socket;
    const log = document.getElementById('log');

    function connect() {
      const serverUrl = document.getElementById('server').value;
      socket = new WebSocket(serverUrl);

      socket.onopen = () => addLog("✅ Connected to " + serverUrl);
      socket.onclose = () => addLog("❌ Disconnected.");
      socket.onerror = (err) => addLog("⚠️ Error: " + err.message);

      socket.onmessage = (event) => {
        addLog("📩 " + event.data);
      };
    }

    function sendMessage() {
      const input = document.getElementById('message');
      if (socket && socket.readyState === WebSocket.OPEN) {
        socket.send(input.value);
        addLog("📤 You: " + input.value);
        input.value = '';
      } else {
        addLog("⚠️ Not connected.");
      }
    }

    function addLog(message) {
      const div = document.createElement('div');
      div.textContent = message;
      log.appendChild(div);
      log.scrollTop = log.scrollHeight;
    }
  </script>
</body>
</html>
